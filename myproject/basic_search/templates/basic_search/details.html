{% extends "secure/base.html" %}


    {% block maincontent%}

        <!--Display chart and matrix after search result (temparary)-->
        {% block graph %}
        <button onclick="myFunction()">Display Graph</button>
        <button onclick="DisplayFunction()">Display Matrix</button>
        <script type = "text/javascript">
        function myFunction() {
            window.open("{% url 'graph:index' username %}", "_blank", "resizable=yes, status =no, left=00,top=300,width=1500, height=400")
        }
        function DisplayFunction() {
            window.open("{% url 'coc:index' username %}", "_blank", "resizable=yes, status= no, left=-100,top=00,width=700, height=800")
        }</script>
        {% endblock %}

    <style type="text/css">
        .mygrid-wrapper-div {
           border: solid red 5px;
           overflow: scroll;
           height: 70%;
        }
    </style>

    <h1> This is the details page!!</h1>

       <div class="container">
            <h2 class="text-muted">Influenza NA</h2>
            <table class="table table-stripes">
                <thead>
                    <tr>
                        <td>Genbank Accession Number</td>
                        <td>Host</td>
                        <td>Genome Segment</td>
                        <td>Subtype</td>
                        <td>Country</td>
                        <td>Date</td>
                        <td>Length</td>
                        <td>Virus Name</td>
                        <td>Age</td>
                        <td>Gender</td>
                        <td>Complete-ness</td>
                        <td>Nucleotide Sequence</td>
                    </tr>
                </thead>
                <tbody>
                    {% for row in queryEntriesNA %}
                        <tr>
                            <td>{{ row.genbank_accession_number }}</td>
                            <td>{{ row.host }}</td>
                            <td>{{ row.genomesegment_or_proteinname }}</td>
                            <td>{{ row.subtype }}</td>
                            <td>{{ row.country }}</td>
                            <td nowrap>{{ row.date_discovered }}</td>
                            <td>{{ row.sequence_length }}</td>
                            <td>{{ row.virus_name }}</td>
                            <td>{{ row.age }}</td>
                            <td>{{ row.gender }}</td>
                            <td>{{ row.completeness }}</td>
                            <td style="word-wrap: break-word; max-width: 300px;">
                                <div style="overflow-x: hidden; overflow-y: scroll; max-height: 150px;">
                                {{ row.influenza_fna.fasta_nucleotide_description }}
                                </div>
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
       </div>
        <br>
        <hr class="fade"/>
        <div class="container">
            <h2 class="text-muted">Influenza AA</h2>
            <table class="table table-stripes">
                <thead>
                    <tr>
                        <td>Genbank Accession Number</td>
                        <td>Host</td>
                        <td>Genome Segment</td>
                        <td>Subtype</td>
                        <td>Country</td>
                        <td nowrap>Date</td>
                        <td>Length</td>
                        <td>Virus Name</td>
                        <td>Age</td>
                        <td>Gender</td>
                        <td>Complete-ness</td>
                        <td>Protein Sequence</td>
                    </tr>
                </thead>
                <tbody>
                    {% for row in queryEntriesAA %}
                        <tr>
                            <td>{{ row.genbank_accession_number }}</td>
                            <td>{{ row.host }}</td>
                            <td>{{ row.genomesegment_or_proteinname }}</td>
                            <td>{{ row.subtype }}</td>
                            <td>{{ row.country }}</td>
                            <td nowrap>{{ row.date_discovered }}</td>
                            <td>{{ row.sequence_length }}</td>
                            <td>{{ row.virus_name }}</td>
                            <td>{{ row.age }}</td>
                            <td>{{ row.gender }}</td>
                            <td>{{ row.completeness }}</td>
                            <td style="word-wrap: break-word; max-width: 300px;">
                                <div style="overflow-x: hidden; overflow-y: scroll; max-height: 150px;">
                                    {{ row.influenza_faa.fasta_protein_description }}
                                </div>
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
       </div>
    {% endblock %}
